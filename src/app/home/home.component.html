<ng-container *ngIf="categoriesSwiper?.topics.length > 0">
  <div class="topic-swiper">
    <div class="swiper-wrap">
      <div class="swiper-container" [swiper]="swiperConfig">
        <div class="swiper-wrapper">
          <ng-container *ngFor="let topic of categoriesSwiper?.topics">
            <div class="swiper-slide">
              <a target="_blank" [href]="'/topic/' + topic.tid + '/'">
                <div><img [src]="topic?.posts?topic?.posts[0].firstImg:''" alt=""></div>
              </a>
            </div>
          </ng-container>
        </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
      </div>
    </div>
  </div>
</ng-container>

<div class="category">
  <div *ngIf="categoryPublish">
    <div style="display: flex; padding: 5px; padding-top: 30px;">
      <a class="title-category" target="_blank" [innerHTML]="categoryPublish.name" [href]="'/category/' + categoryPublish.cid + '/'"></a>
      <hr style="height: 20px; border-left: 2px solid #bbbbbb; border-top: 0; margin: 5px 10px 0 10px;">
      <span class="pt-1" [innerHTML]="categoryPublish.descriptionParsed"></span>
    </div>
    <div class="home-separator"></div>
    <div class="row m-auto flag-wrap-pgc">
      <div class="topic col-lg-3 col-sm-6" *ngFor="let topic of categoryPublish.topics">
        <div class="card" [style]="sanitizer.bypassSecurityTrustStyle(categoryPublish.getStyle())">
          <a [href]="topic.getLink(config.relativePath)" itemprop="url" target="_blank">
            <div class="card-body">
              <div class="card-img">
                <img [src]="getImg(topic) || ''" alt="">
              </div>
            </div>
          </a>
          <div class="card-footer">
            <div style="width: 269px; margin: 0 auto;">
              <div class="title">
                <a [href]="topic.getLink(config.relativePath)" target="_blank">{{topic.title}}</a>
              </div>
              <div class="calendar" *ngIf="topic?.posts && topic?.posts.length > 0">{{topic?.posts[0].calendar|date:'MM月dd日'}}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

<div class="category">
  <div *ngFor="let category of categoriesPgc">
    <div style="display: flex; padding: 5px; padding-top: 30px;">
      <a class="title-category" target="_blank" [innerHTML]="category.name" [href]="'/category/' + category.cid + '/'"></a>
      <hr style="height: 20px; border-left: 2px solid #bbbbbb; border-top: 0; margin: 5px 10px 0 10px;">
      <span class="pt-1" [innerHTML]="category.descriptionParsed"></span>
      <ngb-tabset type="">
        <ngb-tab title="全部" style="padding: 0">
          <!--          <ng-template ngbTabContent>-->

          <!--          </ng-template>-->
        </ngb-tab>
        <ngb-tab title="Supreme" style="padding: 0">
<!--          <ng-template ngbTabContent>-->

<!--          </ng-template>-->
        </ngb-tab>
        <ngb-tab title="Kith" style="padding: 0">
<!--          <ng-template ngbTabContent>-->

<!--          </ng-template>-->
        </ngb-tab>
      </ngb-tabset>
    </div>
    <div class="home-separator"></div>
    <div class="row m-auto flag-wrap-pgc">
      <div class="topic col-lg-3 col-sm-6" *ngFor="let topic of category.topics">
        <div class="card" [style]="sanitizer.bypassSecurityTrustStyle(category.getStyle())">
          <a [href]="topic.getLink(config.relativePath)" itemprop="url" target="_blank">
            <div class="card-body">
              <div class="card-img">
                <img [src]="getImg(topic) || ''" alt="">
              </div>
            </div>
          </a>
          <div class="card-footer">
            <div>
              <div class="float-left hidden-xs user-avatar">
                <a [href]="topic.user.getLink(config.relativePath)">
                  <ng-container *ngIf="topic?.user?.picture; else userNoIcon">
                    <img class="user-avatar" [src]="topic.user.picture" [alt]="topic.user.username"
                         [title]="topic.user.username"/>
                  </ng-container>
                  <ng-template #userNoIcon>
                    <div class="user-icon" [title]="topic.user.username"
                         [style.background-color]="topic.user.iconBgColor">{{topic.user.iconText}}</div>
                  </ng-template>
                </a>
              </div>
              <div class="title">
                <a [href]="topic.getLink(config.relativePath)" target="_blank">{{topic.title}}</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!--    交易区/红黑榜-->
  <div class="card-slider wrap">
    <h3 class="h3-title"></h3>
    <div class="lg-slider-div">
      <div class="">
        <ul style="opacity: 1;">
          <li>
            <div class="slider-tpm" [ngClass]="{'on': mouseIndex==1}" (mouseover)="mouseIndex=1"
                 style="background: url('/assets/uploads/category/jiaoyi.jpg') center top no-repeat;">
              <div class="long">
                <a target="_blank" [href]="'/topic/24/'"  style="font-size: 30px; font-weight: 600; color: #e68900;">
                  潮目交易区<br>
                  交易规则<br>
                  blalalalalalala
                </a>
              </div>
              <div class="short" style="font-size: 60px; font-weight: 600;">
                交易区
              </div>
            </div>
          </li>
          <li>
            <div class="slider-tpm" [ngClass]="{'on': mouseIndex==2}" (mouseover)="mouseIndex=2"
                 style="background: url('/assets/uploads/category/hong.jpg') center top no-repeat;">
              <div class="long">
                <a target="_blank" [href]="'/topic/25/'"  style="font-size: 30px; font-weight: 600; color: #e68900;">
                  曝光贴<br>
                  balalalalalalala
                </a>
              </div>
              <div class="short" style="font-size: 60px; font-weight: 600;">
                黑榜
              </div>
            </div>
          <li>
            <div class="slider-tpm" [ngClass]="{'on': mouseIndex==3}" (mouseover)="mouseIndex=3"
                 style="background: url('/assets/uploads/category/hei.jpg') center top no-repeat;">
              <div class="long">
                <a target="_blank" [href]="'/topic/26/'" style="font-size: 30px; font-weight: 600; color: #e68900;">
                  诚信榜<br>
                  blalalalala
                </a>
              </div>
              <div class="short" style="font-size: 60px; font-weight: 600;">
                红榜
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="home-separator"></div>

  <ngb-tabset type="tabs" justify="center">
    <div *ngFor="let category of categoriesUgc" style="display: inline;">
      <ngb-tab title={{category.name}}>
        <ng-template ngbTabContent>
          <div class="row no-wrap m-auto flag-wrap">
            <div class="topic col-lg-3 col-sm-6" *ngFor="let topic of category.topics">
              <div class="card" [style]="sanitizer.bypassSecurityTrustStyle(category.getStyle())">
                <a [href]="topic.getLink(config.relativePath)" itemprop="url" target="_blank">
                  <div class="card-body">
                    <div class="card-img">
                      <img [src]="getImg(topic) || ''" alt="">
                    </div>
                  </div>
                </a>
                <div class="card-footer">
                  <div>
                    <div class="title">
                      <a [href]="topic.getLink(config.relativePath)" target="_blank">{{topic.title}}</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </ng-template>
      </ngb-tab>
    </div>
  </ngb-tabset>
</div>

<div class="tag-swiper">
  <div style="padding-top: 50px; background: #edf1f4;">
  </div>
  <div class="section-title" style="text-align:center;padding-top:5px;margin:15px;font-size:25px;font-weight:800;color:snow">
    热门标签
  </div>
  <div class="swiper-container"  [swiper]="tagSwiperConfig">
    <div class="swiper-wrapper">
      <div class="swiper-slide">Nike</div>
      <div class="swiper-slide">Yeezy</div>
      <div class="swiper-slide">Adidas Originals</div>
      <div class="swiper-slide">A Bathing Ape</div>
      <div class="swiper-slide">Vapormax</div>
      <div class="swiper-slide">Kaws</div>
      <div class="swiper-slide">Supreme</div>
      <div class="swiper-slide">Air Jordan</div>
      <div class="swiper-slide">Kith</div>
      <div class="swiper-slide">Travis Scott</div>
      <div class="swiper-slide">Sacai</div>
      <div class="swiper-slide">Li-Ning</div>
    </div>
    <!-- Add Pagination -->
    <div class="swiper-pagination"></div>
    <!-- Add Arrows -->
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
  </div>
</div>

